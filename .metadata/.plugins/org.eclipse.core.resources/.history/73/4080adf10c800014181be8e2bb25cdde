package graphics;

import java.awt.Graphics;
import java.awt.image.BufferedImage;
import java.awt.image.DataBufferInt;
import java.util.Random;

import core.Loop;

public class EpicDisplay extends PixelContainer {
	
	private PixelContainer container;
	private BufferedImage img;
	private int[] pixels;
	
	public EpicDisplay(int w, int h) {
		super(w, h);
		
		container = new PixelContainer(DisplayManager.getWidth(), DisplayManager.getHeight());
		img = new BufferedImage(DisplayManager.getWidth(), DisplayManager.getHeight(), BufferedImage.TYPE_INT_RGB);
		pixels = ((DataBufferInt)img.getRaster().getDataBuffer()).getData();
		
		
		Random rand = new Random();
		
		for (int i = 0; i < container.width * container.height; i++) {
			container.pixels[i] = rand.nextInt();
			pixels[i] = container.pixels[i];
		}
	}
	
	public void render(Graphics g, Loop time) {
		formatPixels(container, 0, 0);
		
		g.drawImage(img, 0, 0, img.getWidth() * DisplayManager.getScale(), img.getHeight() * DisplayManager.getScale(), null);
	}
}
